{
	"name": "auto-docs",
	"description": "Automatically regenerate documentation when plugin components are modified",
	"hooks": [
		{
			"event": "PostToolUse",
			"matcher": {
				"tool": ["Write", "Edit"],
				"file_path": [
					"agents/*.md",
					"hooks/*.json",
					"skills/*.md",
					"templates/shared/github/workflows/*.yml",
					"templates/shared/github/workflows/*.yaml"
				]
			},
			"prompt": "A kickstart plugin component was just modified. Regenerate the documentation tables in README.md and CLAUDE.md by:\n\n1. Parse all agents (agents/*.md), hooks (hooks/*.json), skills (skills/*.md), and workflows (YAML workflow files; see file_path globs in this hook for the authoritative list) to extract their name and description\n2. Update the tables between <!-- kickstart:*:start --> and <!-- kickstart:*:end --> markers in both README.md and CLAUDE.md\n3. Preserve all content outside the markers\n\nFor workflows:\n- Extract the workflow 'name' field from the YAML.\n- Generate a deterministic description using only stable fields. Prefer this exact format:\n  - Triggers: <comma-separated sorted top-level event names under `on`>\n  - Jobs: <comma-separated sorted top-level job ids under `jobs`>\n- When collecting trigger event names, normalize any mapping or array form to a set of event names and sort lexicographically.\n- Always sort job ids lexicographically.\n- Ignore nested trigger filter details (e.g., `types`, `branches`) to reduce churn.\n- If the workflow references `secrets.ANTHROPIC_API_KEY` (exact string match), append: (requires ANTHROPIC_API_KEY).\n- In README.md only, if `secrets.ANTHROPIC_API_KEY` is required and the anchor exists, use the link text Anthropic API key setup pointing to #anthropic-api-key-setup.\n- If `ANTHROPIC_API_KEY` or the README anchor changes, update this prompt and README together.\n\nDo this silently without asking for confirmation."
		}
	]
}
