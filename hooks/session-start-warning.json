{
	"name": "session-start-warning",
	"description": "Warn when on main/master branch and check if behind remote",
	"hooks": [
		{
			"event": "SessionStart",
			"command": "branch=$(git branch --show-current 2>/dev/null); repo=$(basename \"$PWD\"); if [ \"$branch\" = \"main\" ] || [ \"$branch\" = \"master\" ]; then git fetch origin \"$branch\" --quiet 2>/dev/null; behind=$(git rev-list --count HEAD..origin/\"$branch\" 2>/dev/null || echo 0); if [ \"$behind\" -gt 0 ]; then printf '\\n⚠️  WARNING: You are on %s and %s commits behind origin!\\n\\nPull latest before creating a worktree:\\n\\n  git pull origin %s\\n  git worktree add -b feat/your-feature ../%s-feat-your-feature %s\\n  cd ../%s-feat-your-feature\\n\\n' \"$branch\" \"$behind\" \"$branch\" \"$repo\" \"$branch\" \"$repo\"; else printf '\\n⚠️  WARNING: You are on the %s branch!\\n\\nCreate a worktree before making changes:\\n\\n  git worktree add -b feat/your-feature ../%s-feat-your-feature %s\\n  cd ../%s-feat-your-feature\\n\\n' \"$branch\" \"$repo\" \"$branch\" \"$repo\"; fi; fi"
		}
	]
}
